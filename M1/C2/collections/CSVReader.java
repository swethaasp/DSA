import java.io.BufferedReader;
import java.io.Closeable;
import java.io.IOException;

/**
 * Simple CSV reader that uses an underlying {@link BufferedReader} to read the
 * data from.
 */
public class CSVReader implements Closeable {

    private final BufferedReader reader;
    private int lineCount = 0;

    public CSVReader(BufferedReader reader) throws IOException {
        this(reader, true);
    }

    public CSVReader(BufferedReader reader, boolean ignoreFirstLine) throws IOException {
        this.reader = reader;

        if (ignoreFirstLine) {
            reader.readLine();
        }
    }

    public void close() throws IOException {
        this.reader.close();
    }

    public int getLineCount() {
        return lineCount;
    }

    public String[] readRow() throws IOException {
        String line = reader.readLine();
        if (line == null) {
            return null;
        }
        lineCount++;

        return line.split(",");
    }

}


//readme.md

class: UseCSVReaderSample
args: Lesson07/data/users.csv
output:
1 - Geisha Williams
2 - Jeff Bezos
3 - Geisha Williams
4 - Sundar Pichai
5 - Safra Catz
6 - Satya Nadella
7 - Tim Cook
8 - Marillyn Hewson
9 - Sundar Pichai
10 - Ginni Rometty
11 - Marillyn Hewson
12 - Ginni Rometty
13 - Indra Nooyi
14 - Jeff Bezos
15 - Ginni Rometty
16 - Marillyn Hewson
17 - Indra Nooyi
18 - Geisha Williams
19 - Marillyn Hewson
20 - Satya Nadella
21 - Geisha Williams
22 - Marc Benioff
23 - Sundar Pichai
24 - Safra Catz
25 - Ginni Rometty
26 - Safra Catz
27 - Tim Cook
28 - Safra Catz
29 - Tim Cook
30 - Satya Nadella
31 - Marc Benioff
32 - Sundar Pichai
33 - Tim Cook
34 - Jeff Bezos
35 - Indra Nooyi
36 - Jeff Bezos
37 - Tim Cook
38 - Satya Nadella
39 - Marillyn Hewson
40 - Sundar Pichai
41 - Jeff Bezos
42 - Satya Nadella
43 - Ginni Rometty
44 - Tim Cook
45 - Marc Benioff
46 - Satya Nadella
47 - Marillyn Hewson
48 - Satya Nadella
49 - Jeff Bezos
50 - Safra Catz
51 - Ginni Rometty
52 - Marc Benioff
53 - Geisha Williams
54 - Tim Cook
55 - Geisha Williams
56 - Jeff Bezos
57 - Geisha Williams
58 - Marc Benioff
59 - Safra Catz
60 - Indra Nooyi
61 - Marc Benioff
62 - Indra Nooyi
63 - Safra Catz
64 - Marc Benioff
65 - Sundar Pichai
66 - Marillyn Hewson
67 - Indra Nooyi
68 - Ginni Rometty
69 - Sundar Pichai
70 - Indra Nooy


